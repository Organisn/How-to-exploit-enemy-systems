# SQL injection test platform 
Simple express.js app used to test PostgreSQL SQL injection vulnerabilities.

Works properly on PostegreSQL, while it won't with many other DBMSs, 'cause they already provide their own integrated query sanitizer or prepared statements development feature to avoid clients dangerous code injections.

By this attack type users can achieve privilege escalation, waste the entire db and/or retrieve direct and indirect informations about db structure and stored datas.  
See [https://portswigger.net/web-security/sql-injection](https://portswigger.net/web-security/sql-injection) for more details.
## Setup
To download and install Fast Node Manager for Windows [(official guide)](https://nodejs.org/en/download/package-manager):
```
winget install Schniz.fnm
```
To complete FNM environment setup on Windows **Powershell**:
1. Run
```
fnm completions --shell power-shell
```
2. (With **caution!**) Set new execution policy for current user
```
Set-ExecutionPolicy -ExecutionPolicy Unrestricted -Scope CurrentUser
```
3. Edit profile file on VSCode
```
code $profile
```
4. Past
```
fnm env --use-on-cd --version-file-strategy=recursive | Out-String | Invoke-Expression
```
at the end of it  
5. Refresh shell to execute profile script
```
. $profile
```
To download and install Node.js last LTS:
```
fnm use --install-if-missing 20
```
+ Verifies the right Node.js version is in the environment
```
node -v
```
+ Verifies the right npm version is in the environment
```
npm -v
```
Install required Node modules (**always from Powershell!**)
```
npm install express
npm i pg-pool pg
npm i dotenv --save
npm install -g nodemon
```
### Db
Follow [setup.sql](/db/PostgreSQL/setup.sql) instructions
### Configuration file
1. Create `.env` file into working directory
```
New-Item -Name ".env" -ItemType File
```
2. Set .env db connection variables
```
HOST = '{localhost?}'
DATABASE = '{db}'
USER = '{db_permitted_access_user}'
PASSWORD = '{user_password}'
PORT = {choosen_during_installation_process}
```
### Debug with restart-on-changes feature
1. Create launch.json file from Run and Debug men√π (`CTRL + SHIFT + D`)
2. Add Nodemon configuration
```
{
    "type": "node",
    "request": "attach",
    "name": "Nodemon Debug",
    "port": 9229,
    "restart": true
},
```
## Server launch
Production
```
node app.js
```
Debug
1. Run
```
nodemon --inspect app.js
```
2. Run Debugging with Nodemon configuration

`CTRL + C` to terminate app from shell.
## Client side
Connect to [http://127.0.0.1:3000](127.0.0.1.3000) to enjoy this minimal but functional platform!