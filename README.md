# SQL injection test platform 
Simple express.js app used to test PostgreSQL SQL injection vulnerabilities.

Works properly on PostegreSQL (even if the example require a MySQL db instance...), while it won't with other ones, 'cause they already provide their own integrated query sanitizer to avoid clients dangerous code injections.

By these attack type users can achieve privilege escalation, waste the entire db and/or retrieve direct and indirect informations about db structure and stored data.
## Setup
To download and install Fast Node Manager for Windows [(official guide)](https://nodejs.org/en/download/package-manager):
```
winget install Schniz.fnm
```
To complete fnm environment setup on Windows **Powershell**:  
1. 
```
fnm completions --shell power-shell
```
2. (With **caution!**) Set new execution policy for current user
```
Set-ExecutionPolicy -ExecutionPolicy Unrestricted -Scope CurrentUser
```
3. Edit profile file on VSCode
```
code $profile
```
4. Past
```
fnm env --use-on-cd --version-file-strategy=recursive | Out-String | Invoke-Expression
```
at the end of it  
5. Refresh shell to execute profile script
```
. $profile
```
To download and install Node.js last LTS:
```
fnm use --install-if-missing 20
```
+ Verifies the right Node.js version is in the environment
```
node -v
```
+ Verifies the right npm version is in the environment
```
npm -v
```
Install required Node modules (**always from Powershell!**)
```
npm install express
npm install mysql2
npm i pg-pool pg
npm i dotenv --save
npm install -g nodemon
```
Configuration file
1. Create `.env` file into working directory
```
New-Item -Name ".env" -ItemType File
```
2. Set .env db connection variables
```
HOST = '{localhost?}'
DATABASE = '{db}'
USER = '{db_permitted_access_user}'
PASSWORD = '{user_password}'
PORT = {choosen_during_installation_process}
```
Debug
1. Create launch.json file and add Nodemon configuration
```
{
    "type": "node",
    "request": "attach",
    "name": "Nodemon Debug",
    "port": 9229,
    "restart": true
},
```
2. Run 
```
nodemon --inspect psqlapp.js
```
3. Run Debugging with Nodemon configuration
4. Connect to [127.0.0.1:3000](127.0.0.1.3000)

```
node psqlapp.js
```
in working directory to launch server and connect to [127.0.0.1:3000](127.0.0.1.3000) to enjoy app client side.
```
CTRL + C
```
to terminate app from shell.
